###############################################################################
# GPT‑Review ▸ Flake8 configuration
###############################################################################
# Style decisions
# ---------------
# * **max‑line‑length 88**   – matches *Black* auto‑formatter.
# * **E203 / W503 ignored** – recommended by Black’s documentation because
#   its wrapping strategy intentionally violates those two pep8 checks.
# * **E501 ignored**        – allow long documentation/comments; Black handles code.
#
# Quality gates
# -------------
# * `select = C,E,F,W,B,S` enables:
#       C  – McCabe complexity
#       E/W– PEP8 error / warning
#       F  – pyflakes
#       B  – flake‑bugbear
#       S  – flake8‑bandit security checks
#
# * `per‑file‑ignores` turns off Bandit’s assertion‑usage rule (S101) in tests
#   and silences our intentional `subprocess.run(..., shell=True)` in review.py.
#
# Output tweaks
# -------------
# * `count = True`      – display total number of issues
# * `statistics = True` – group counts per error code
# * `show‑source = True`– print the offending line of code
###############################################################################

[flake8]
# Formatting
max-line-length = 88
extend-ignore = E203, W503, E501

# What to lint
exclude =
    .git,
    venv,
    .venv,
    .cache,
    build,
    dist,
    logs,
    __pycache__,
    *.egg-info,
    .tox,
    .pytest_cache,
    .gpt-review-state.json

# Rulesets
select = C,E,F,W,B,S

# Per‑file overrides
per-file-ignores =
    tests/*:S101
    review.py:S602

# Output verbosity
count = True
statistics = True
show-source = True
