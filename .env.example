###############################################################################
# GPT‑Review ▸ Example environment file
###############################################################################
# Copy this file to `.env` in the project root and customise as needed.
# Most shells will export these variables when you run:
#     set -a; . ./.env; set +a
#
# Overview
# --------
# • Browser mode (default) automates a real Chrome/Chromium (Selenium).
# • API mode uses the OpenAI API directly (no browser, cheaper/more reliable).
#
# Choose mode (optional, can also pass `--mode browser|api` to the CLI):
#GPT_REVIEW_MODE=browser
#
# If you enable API mode permanently here, set:
#GPT_REVIEW_MODE=api
###############################################################################

# ---------------------------------------------------------------------------
#  Browser profile (cookies & cache) – browser mode only
# ---------------------------------------------------------------------------
# Default: ~/.cache/gpt-review/chrome
# Keep this directory between runs so you only log in once.
#GPT_REVIEW_PROFILE="$HOME/.cache/gpt-review/chrome"

# ---------------------------------------------------------------------------
#  Browser choice – browser mode only
# ---------------------------------------------------------------------------
# Explicit browser binary (auto-detected if unset):
#   • Debian/Ubuntu:  /usr/bin/google-chrome or /usr/bin/chromium
#   • macOS (Chrome): /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome
#   • macOS (Chromium): /Applications/Chromium.app/Contents/MacOS/Chromium
#CHROME_BIN="/usr/bin/google-chrome"

# ---------------------------------------------------------------------------
#  ChatGPT URLs (driver vs. login helper) – browser mode only
# ---------------------------------------------------------------------------
# Driver preferred domain (Selenium navigation); fallback to chat.openai.com is automatic.
#GPT_REVIEW_CHAT_URL="https://chatgpt.com/"
# Primary URL for the *login helper* (cookie_login.sh). A fallback tab for chat.openai.com
# is always opened unless this is already that domain.
#GPT_REVIEW_LOGIN_URL="https://chatgpt.com/"

# ---------------------------------------------------------------------------
#  Headless mode – browser mode only
# ---------------------------------------------------------------------------
# Any non-empty value enables Chromium’s new headless mode.
# Useful for CI / Docker. (Default ON inside Docker image.)
#GPT_REVIEW_HEADLESS=1

# ---------------------------------------------------------------------------
#  Timeouts & retries (both modes unless noted)
# ---------------------------------------------------------------------------
# Maximum seconds to wait for UI/replies (browser mode; default: 90).
#GPT_REVIEW_WAIT_UI=90
# Inactivity (seconds) to consider streaming finished (browser mode; default: 2).
#GPT_REVIEW_STREAM_IDLE_SECS=2
# Number of retries for brittle browser actions (browser mode; default: 3).
#GPT_REVIEW_RETRIES=3
# Command timeout in seconds; same as `--timeout` CLI flag (default: 300).
#GPT_REVIEW_COMMAND_TIMEOUT=300

# ---------------------------------------------------------------------------
#  Error‑log chunking (browser mode) / tailing (API mode)
# ---------------------------------------------------------------------------
# Browser mode: maximum characters per error‑log chunk (default: 15000).
# Larger values risk exceeding ChatGPT’s token limit.
#GPT_REVIEW_CHUNK_SIZE=15000
#
# API mode: only send the tail of failing logs back to the model (default: 20000).
#GPT_REVIEW_LOG_TAIL_CHARS=20000

# ---------------------------------------------------------------------------
#  Logging
# ---------------------------------------------------------------------------
# Directory for rotating log files (relative or absolute).
#GPT_REVIEW_LOG_DIR="logs"
# Console log level: DEBUG | INFO | WARNING | ERROR | CRITICAL
#GPT_REVIEW_LOG_LVL="INFO"
# Rotation schedule for file logs (see Python TimedRotatingFileHandler docs),
# common values: "midnight", "H", "M".
#GPT_REVIEW_LOG_ROT="midnight"
# Number of backup files to keep (default: 7).
#GPT_REVIEW_LOG_BACK=7
# Timestamp format: set to 1 to switch console timestamps to UTC.
#GPT_REVIEW_LOG_UTC=1
# Emit JSON lines to console (useful for CI/log scraping); set to 1 to enable.
#GPT_REVIEW_LOG_JSON=1

# ---------------------------------------------------------------------------
#  Network proxy (optional)
# ---------------------------------------------------------------------------
# If your environment requires a proxy for webdriver-manager downloads or
# general network access, set these before running the tool.
#HTTPS_PROXY="http://proxy.example.com:3128"
#HTTP_PROXY="$HTTPS_PROXY"

# ---------------------------------------------------------------------------
#  Misc
# ---------------------------------------------------------------------------
# Set PYTHONUNBUFFERED for immediate log flushing in some shells/CI.
#PYTHONUNBUFFERED=1

###############################################################################
# API (no browser) – OpenAI settings
###############################################################################
# REQUIRED for --mode api (or if GPT_REVIEW_MODE=api is set)
# Your OpenAI API key (or a compatible gateway key).
#GPT_CODEX_API_KEY="sk-...your-key..."

# Optional: override the base URL to use a proxy / private gateway.
# e.g., "https://codex.example.com/v1" (default if unset) or your enterprise gateway.
#GPT_CODEX_BASE_URL="https://codex.example.com/v1"
# Legacy aliases OPENAI_API_KEY / OPENAI_BASE_URL are still honoured.

# Default model for API mode (can be overridden with --model on the CLI).
# Examples: "gpt-5-pro" or your gateway’s compatible model id.
#GPT_REVIEW_MODEL="gpt-5-pro"

# Keep conversation small (cheaper): number of *turn pairs* (user+assistant)
# retained after the initial system+instructions (default: 6).
#GPT_REVIEW_CTX_TURNS=6

# Per-request timeout for API calls in seconds (default: 120).
#GPT_REVIEW_API_TIMEOUT=120
